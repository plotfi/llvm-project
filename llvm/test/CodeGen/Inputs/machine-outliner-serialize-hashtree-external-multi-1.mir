# RUN: llc -mtriple=aarch64--- -run-pass=prologepilog -run-pass=machine-outliner -verify-machineinstrs -frame-pointer=non-leaf %s -o - | FileCheck %s
--- |

  @x = common global i32 0, align 4

  define void @bar(i32 %a) #0 {
    ret void
  }

  attributes #0 = { noinline noredzone }
...
---
name:            bar
tracksRegLiveness: true
body:             |
  bb.0:
    liveins: $w0, $lr, $w8
    $sp = frame-setup SUBXri $sp, 32, 0
    $fp = frame-setup ADDXri $sp, 16, 0
  bb.2:
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w8 = ORRWri $wzr, 0
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w15 = ORRWri $wzr, 1
    $w8 = ORRWri $wzr, 1

    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w8 = ORRWri $wzr, 0
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w15 = ORRWri $wzr, 2
    $w8 = ORRWri $wzr, 1

    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w8 = ORRWri $wzr, 0
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w15 = ORRWri $wzr, 3
    $w8 = ORRWri $wzr, 1

    RET undef $lr

...
---
